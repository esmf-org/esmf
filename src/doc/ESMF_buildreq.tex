% $Id: ESMF_buildreq.tex,v 1.13 2006/12/13 20:17:53 cdeluca Exp $

\sreq{Build}

\ssreq{Library Archive Files}
The build system will create archive library files and when
possible, shared object library files. Archive library files commonly
have the file name extension .a.  Shared object library files commonly
have .so as their file name extension.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups \\
{\bf Status:}  proposed \\
{\bf Verification:} inspection
\end{reqlist}

\ssreq{Common Targets}
The build system tasks will be controlled with a series of
makefile targets. Standard targets will be used whenever 
possible. 

\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups \\
{\bf Status:} proposed \\
{\bf Verification:} code inspection
\end{reqlist}

\ssreq{Local Builds}
Builds within the current working directory will be
accomplished using the same makefile targets as
used in the top level.
Only build tasks within and below the current working directory
will be processed.  
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} Core development team \\
{\bf Status:} proposed \\
{\bf Verification:} inspection
\end{reqlist}

\ssreq{Internal Documentation}
Documentation will exist to explain the structure and 
internal workings of the Build System.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups and core team \\
{\bf Status:} proposed \\
{\bf Verification:} inspection
\end{reqlist}

\ssreq{User Documentation}
Documentation will exist to cover steps needed to build ESMF,
EVA and Implementation Report  source trees.  This will include 
procedures for changing the compile and link options.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups \\
{\bf Status:} proposed \\
{\bf Verification:} inspection
\end{reqlist}

\ssreq{Developer Documentation}
Documentation will exist to cover steps needed to add source
code to the ESMF and EVA source trees.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups and core development team \\
{\bf Status:} proposed \\
{\bf Verification:} inspection
\end{reqlist}

\ssreq{EVA Builds}
EVA will use either the build system
of a checked out and built  ESMF source release or 
an installed pre-compiled version of the ESMF library files.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups \\
{\bf Status:} proposed \\
{\bf Verification:} inspection
\end{reqlist}


\ssreq{Concurrent Builds}
The same set of files can be used for builds on separate 
system architectures concurrently.  This requirement also
applies to building and running of all unit and system
tests.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} CCSM, core development team \\
{\bf Status:} proposed \\
{\bf Verification:} inspection
\end{reqlist}

\ssreq{Dependency Checking}
The build system will take into account the dependencies 
between source code files and build products.  
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups \\
{\bf Status:} proposed \\
{\bf Verification:} system test
\end{reqlist}

\ssreq{Automatic Dependency Generation}
The build system will scan source code files to 
generate dependency lists.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups \\
{\bf Status:} proposed \\
{\bf Verification:} system test
\end{reqlist}

\ssreq{Log Files}
Status and error log files will be generated by 
the build system.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups \\
{\bf Status:} proposed \\
{\bf Verification:} inspection
\end{reqlist}

\ssreq{Configuration Checking}
The build system will check for required system 
libraries and utilities.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} All application groups \\
{\bf Status:} proposed \\
{\bf Verification:} test
\end{reqlist}

\ssreq{Easily customize build for local machine}
The ESMF shall have the ability to easily customize the build environment. 
Paths to system libraries that are required can be set easily, without 
modifying 
the build files directly. If the paths to required system libraries 
are not provided or are incorrect the build system will let the user know 
how to set them and die gracefully.
\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} CCSM-CPL. \\
{\bf Status:} Approved-2. \\
{\bf Verification:} Set library paths correctly and incorrectly and test that 
the build acts appropriately.
\end{reqlist}

\ssreq{Build from read only directory}
The ESMF library and its test applications
will be able to be built from ESMF
source code that is stored in a
read only directory.

\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} CCSM \\
{\bf Status:} proposed \\
{\bf Verification:} test
\end{reqlist}

\ssreq{ESMF build system can be used to build applications}
The makefile fragments of the build system will 
be designed so that they can used in the makefiles 
of applications that use ESMF.

\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} DAO \\
{\bf Status:} proposed \\
{\bf Verification:} test
\end{reqlist}

\ssreq{Build rules will be easily overridden}
Rules that define compile and link commands will be
easily overridden.

\begin{reqlist}
{\bf Priority:} 1. \\
{\bf Source:} CCSM \\
{\bf Status:} proposed \\
{\bf Verification:} test
\end{reqlist}


