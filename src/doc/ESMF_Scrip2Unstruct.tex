% $Id$

\section{ESMF\_Scrip2Unstruct}
\label{sec:ESMF_Scrip2Unstruct}

\subsection{Description}

The {\tt ESMF\_Scrip2Unstruct} application is a parallel program that converts a SCRIP format grid file~\ref{sec:fileformat:scrip} into an unstructured grid file in the ESMF unstructured file format~\ref{sec:fileformat:esmf} or in the UGRID file format~\ref{sec:fileformat:ugrid}. This application program can be used together with {\tt ESMF\_RegridWeightGen}~\ref{sec:ESMF_RegridWeightGen} application for the unstructured SCRIP format grid files.  An unstructured SCRIP grid file will be converted into the ESMF unstructured file format internally in {\tt ESMF\_RegridWeightGen}.  The conversion subroutine used in {\tt ESMF\_RegridWeightGen} is sequential and could be slow if the grid file is very big.  It will be more efficient to run the {\tt ESMF\_Scrip2Unstruct} first and then regrid the output ESMF or UGRID file using {\tt ESMF\_RegridWeightGen}.  Note that a logically rectangular grid file in the SCRIP format (i.e. the dimension {\tt grid\_rank} is equal to 2) can also be converted into an unstructured grid file with this application.

The application usage is as follows:

\begin{verbatim}
ESMF_Scrip2Unstruct  inputfile outputfile dualflag [fileformat]

where
  inputfile       - a SCRIP format grid file

  outputfile      - the output file name
 
  dualflag        - 0 for straight conversion and 1 for dual 
		    mesh.  A dual mesh is a mesh constructed 
                    by putting the corner coordinates in the 
                    center of the elements and using the 
		    center coordinates to form the mesh 
		    corner vertices.

  fileformat      - an optional argument for the output file 
		    format.  It could be either ESMF or UGRID.
                    If not specified, the output file is in 
		    the ESMF format.  
  
\end{verbatim}
