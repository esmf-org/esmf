% $Id: PhysGrid_desc.tex,v 1.7 2007/03/31 05:51:18 cdeluca Exp $
%
% Earth System Modeling Framework
% Copyright 2002-2007, University Corporation for Atmospheric Research, 
% Massachusetts Institute of Technology, Geophysical Fluid Dynamics 
% Laboratory, University of Michigan, National Centers for Environmental 
% Prediction, Los Alamos National Laboratory, Argonne National Laboratory, 
% NASA Goddard Space Flight Center.
% Licensed under the University of Illinois-NCSA License.

% <Describe class function and relation to other classes.>


The PhysGrid class is itself internal and is aggregated by the Grid
class.  It is designed to contain all information describing physical
properties of the Grid, as well as methods to initialize them and to
calculate user-requested metrics.

\subsection{PhysGrid Classes}
blahblah
\begin{itemize}
\item {\bf GridMask} Data type describing masks for a PhysGrid.  Masks
are named and can be of different types, including logical masks,
multiplicative masks, and integer region IDs.  The defined types include:
\begin{description}
\item[ESMF\_GridMaskType\_Unknown]
\item[ESMF\_GridMaskType\_Logical]
\item[ESMF\_GridMaskType\_Mult]
\item[ESMF\_GridMaskType\_RegionID]
\end{description}
\item {\bf PhysCoord} A physical coordinate carries information describing
coordinate attributes like names and flags for special properties of a
coordinate axis.  This information is used by PhysGrid and Grid to help
describe the complete physical properties of a grid.  Coordinate system
types include:
\begin{description}
\item[ESMF\_CoordSystem\_Unknown] - unknown or undefined coord system
\item[ESMF\_CoordSystem\_User] - user-defined coordinate system
\item[ESMF\_CoordSystem\_Spherical] - spherical coordinates (lon,lat)
\item[ESMF\_CoordSystem\_Cartesian] - Cartesian coordinates (x,y)
\item[ESMF\_CoordSystem\_Cylindrical] - cylindrical coordinates
\item[ESMF\_CoordSystem\_LatFourier] - mixed latitude/Fourier spectral space
\item[ESMF\_CoordSystem\_Spectral] - wavenumber space
\item[ESMF\_CoordSystem\_Depth] - vertical z coord. depth (0 at top surface)
\item[ESMF\_CoordSystem\_Height] - vertical z coord. height (0 at bottom)
\item[ESMF\_CoordSystem\_Pressure] - vertical pressure coordinate
\item[ESMF\_CoordSystem\_Sigma] - vertical sigma coordinate
\item[ESMF\_CoordSystem\_Theta] - vertical theta coordinate
\item[ESMF\_CoordSystem\_Eta] - vertical eta coordinate
\item[ESMF\_CoordSystem\_Isopycnal] - vertical density coordinate
\item[ESMF\_CoordSystem\_Hybrid] - hybrid vertical coordinates
\item[ESMF\_CoordSystem\_Lagrangian] - Lagrangian coordinates
\end{description}
\item {\bf PhysLocation} Physical locations for a set of points defining the grid.
\item {\bf PhysRegion} Physical locations for a set of points defining regions of
the grid (e.g. cell vertices or domains of influence).  Region types include:
\begin{description}
\item[ESMF\_RegionType\_Unknown]
\item[ESMF\_RegionType\_Polygon]
\item[ESMF\_RegionType\_Ellipse]
\end{description}
\end{itemize}






There is a correspondence between the DistGrid class and the PhysGrid
class.  The PhysGrid class maintains all the local data necessary to
represent the Grid, while the DistGrid class describes the local extents
of that data and its relationship to the global decomposition.
Together, a PhysGrid and related DistGrid define a representation of
a Grid.  There is a correspondence between the PhysGrid class and the Field
class as well:  the PhysGrid data on a DE describes the physical location
of the corresponding Field data.

The PhysGrid class maintains a local physical representation of a Grid,
including all necessary data and masks.  PhysGrids can represent subGrids
of a single Grid and be aggregated by the same Grid object. The PhysGrid
class must have methods that can internally generate a variety of
computational grids in a distributed environment from relatively simple
input.  The PhysGrid data has to be accessible to the ESMF user in a
variety of specified ways or metrics, and it must have the capability to
attach a number of masks or identifiers.  Please note that the PhysGrid class
is designed to be an internal class; all access to its contents are via
Grid methods.


The PhysGrid class is aggregated by the Grid class.
