% $Id: PhysGrid_implnotes.tex,v 1.10 2007/03/31 05:51:18 cdeluca Exp $
%
% Earth System Modeling Framework
% Copyright 2002-2007, University Corporation for Atmospheric Research, 
% Massachusetts Institute of Technology, Geophysical Fluid Dynamics 
% Laboratory, University of Michigan, National Centers for Environmental 
% Prediction, Los Alamos National Laboratory, Argonne National Laboratory, 
% NASA Goddard Space Flight Center.
% Licensed under the University of Illinois-NCSA License.

% <Describe class function and relation to other classes.>
\label{sec:PhysGridClasses}


The PhysGrid class is itself private and is part of the Grid
class.  It is designed to contain all information describing physical
properties of the Grid, as well as methods to initialize them and to
calculate user-requested metrics.

The PhysGrid class contains the following private classes:
\begin{itemize}

\item {\bf ESMF\_GridMask} Data type describing masks for a PhysGrid. 
GridMasks are named and can be of different types, including logical masks,
multiplicative masks, and integer region identifiers.  This private class
will be replaced by the ESMF\_Mask class once it has been implemented.

\item {\bf ESMF\_PhysCoord} Data type describing a coordinate axis in the
physical domain, including attributes like names and flags for special
properties of an axis.  This information is used by PhysGrid and Grid
to help describe the complete physical properties of a Grid.

\item {\bf ESMF\_PhysLocation} Data type containing coordinate values for 
the location of the center of each grid cell.

\item {\bf ESMF\_PhysRegion} Data type containing coordinate values for a set
of points defining regions of the Grid (e.g. cell vertices or domains of
influence).  These typically describe each grid cell, though they can also be
used to define bounding boxes of larger regions.  Regions can be either
polygons or circles/spheres/ellipses.

\end{itemize}






There is a correspondence between the DistGrid class and the PhysGrid
class.  The PhysGrid class maintains all the local data necessary to
represent the Grid, while the DistGrid class describes the local extents
of that data and its relationship to the global decomposition.
Together, a PhysGrid and related DistGrid define a representation of
a Grid.  There is a correspondence between the PhysGrid class and the Field
class as well:  the PhysGrid data on a DE describes the physical location
of the corresponding Field data.

The PhysGrid class maintains a DE-local physical representation of a Grid,
including all necessary data and masks.  PhysGrids can represent subGrids
of a single Grid and be contained by the same Grid object. The PhysGrid
class must have methods that can internally generate a variety of
computational Grids in a distributed environment from relatively simple
input.  The PhysGrid data has to be accessible to the ESMF user in a
variety of specified ways or metrics, and it must have the capability to
attach a number of masks or identifiers.  Please note that the PhysGrid class
is designed to be an private class; all access to its contents are via
Grid methods.

